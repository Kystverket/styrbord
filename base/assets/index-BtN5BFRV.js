'use client';
import{j as h}from"./jsx-runtime-BjG_zV1W.js";import{c as L}from"./lite-DaUVFjkg.js";import{r as a}from"./index-BWu4c2F4.js";function M(t){const e=a.useRef(void 0),n=a.useCallback(o=>{const s=t.map(r=>{if(r==null)return null;if(typeof r=="function"){const u=r,c=u(o);return typeof c=="function"?c:()=>{u(null)}}return r.current=o,()=>{r.current=null}});return()=>{for(const r of s)r==null||r()}},t);return a.useMemo(()=>t.every(o=>o==null)?null:o=>{e.current&&(e.current(),e.current=void 0),o!=null&&(e.current=n(o))},t)}var E=typeof window<"u"&&typeof window.document<"u"&&typeof window.navigator<"u",g;E&&/^Mac/i.test(((g=navigator.userAgentData)==null?void 0:g.platform)||navigator.platform);var A=":host(:not([hidden])) { display: block }",w=typeof HTMLElement>"u"?class{}:HTMLElement;function l(t,e,n){return n===void 0?t.getAttribute(e):(n===null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n),null)}var R=(t,e,n)=>{for(const o of n[0].split(","))n[0]=o,Element.prototype[`${t}EventListener`].apply(e,n)},v=(t,...e)=>R("add",t,e),k=(t,...e)=>R("remove",t,e),j=t=>{const e="key"in t&&(t.key===" "||t.key==="Enter");return e&&t.preventDefault(),e&&t.target instanceof HTMLElement&&t.target.click(),e},H=t=>{var e;const n=((e=t.getRootNode)==null?void 0:e.call(t))||t.ownerDocument;return n instanceof Document||n instanceof ShadowRoot?n:document},m=(t,e,n)=>{const o=document.createElement(t);if(e&&(o.textContent=e),n)for(const[s,r]of Object.entries(n))l(o,s,r);return o},D={define:(t,e)=>!E||window.customElements.get(t)||window.customElements.define(t,e)},T=`${A}
::slotted(u-summary) { cursor: pointer; display: block }
::slotted(u-summary)::before { content: ''; display: inline-block; vertical-align: middle; margin-inline: .05em .3125em; border-block: .3125em solid transparent; border-inline-start: .5em solid }
::slotted(u-summary[aria-expanded="true"])::before { rotate: 90deg }
:host > [part="details-content"]:not([hidden=""]) { display: block }`,U=class extends w{constructor(){super(),this._content=null,this.shadowRoot||this.attachShadow({mode:"open"}).append(m("slot",null,{name:"summary"}),m("slot",null,{part:"details-content"}),m("style",T))}static get observedAttributes(){return["open"]}connectedCallback(){var t;this._content=(t=this.shadowRoot)==null?void 0:t.children[1],l(this,"role","group"),v(this._content,"beforematch",this),v(this,"click,keydown",this),this.attributeChangedCallback()}disconnectedCallback(){this._content&&k(this._content,"beforematch",this),k(this,"click,keydown",this),this._content=null}attributeChangedCallback(t,e,n){const o="onbeforematch"in this?"until-found":!0,s=this.open;for(const r of this.children)r.nodeName==="U-SUMMARY"&&l(r,"aria-expanded",`${s}`);if(this._content&&(l(this._content,"aria-hidden",`${!s}`),l(this._content,"tabindex",s?null:"-1"),this._content.hidden=s?!1:o),s&&this.name){const r=H(this).querySelectorAll(`${this.nodeName}[name="${this.name}"]`);for(const u of r)u!==this&&(u.open=!1)}t==="open"&&e===null!=(n===null)&&this.dispatchEvent(new Event("toggle"))}handleEvent(t){const e=this.querySelector(":scope > u-summary"),n=e==null?void 0:e.contains(t.target);t.defaultPrevented||(t.type==="beforematch"&&(this.open=!0),n&&t.type==="keydown"&&j(t),n&&t.type==="click"&&(this.open=!this.open))}get open(){return this.hasAttribute("open")}set open(t){l(this,"open",t?"":null)}get name(){return l(this,"name")||""}set name(t){l(this,"name",t)}},$=class extends w{connectedCallback(){l(this,"role","button"),this.slot="summary",this.tabIndex=0}};D.define("u-details",U);D.define("u-summary",$);const N=a.forwardRef(function({className:e,open:n,defaultOpen:o=!1,variant:s="default",onToggle:r,...u},c){const p=a.useRef(null),S=a.useRef(o),_=M([p,c]),d=a.useRef(r),f=a.useRef(n);return d.current=r,f.current=n,a.useEffect(()=>{const i=p.current,y=x=>{var b;!i||(i==null?void 0:i.open)===f.current||((b=d.current)==null||b.call(d,x),f.current!==void 0&&(i.open=f.current))};return i==null||i.addEventListener("toggle",y,!0),()=>i==null?void 0:i.removeEventListener("toggle",y,!0)},[]),h.jsx("u-details",{class:L("ds-details",e),open:(n??S.current)||void 0,"data-variant":s,ref:_,...u})}),O=a.forwardRef(function(e,n){return h.jsx("div",{ref:n,...e})}),B=a.forwardRef(function({className:e,...n},o){return h.jsx("u-summary",{ref:o,class:e,...n})}),C=Object.assign(N,{Summary:B,Content:O});C.Summary.displayName="Details.Summary";C.Content.displayName="Details.Content";export{C as D,B as a,O as b,M as u};
